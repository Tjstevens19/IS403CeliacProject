<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Gluten-Free Gastronomy</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="/css/styles.css" rel="stylesheet" >
    </head>
    <body>
        <header>
            <h1 class="site-heading text-center text-faded d-none d-lg-block">
                <span class="site-heading-upper text-primary mb-3">Gluten-Free Gastronomy</span>
                <span class="site-heading-lower">Discover Celiac-Safe Restaurants</span>
            </h1>
        </header>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
            <div class="container">
                <a class="navbar-brand text-uppercase fw-bold d-lg-none" href="index.html">Start Bootstrap</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/displayRestaurants">Restaurants</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="#addRestaurant">Add Restaurant</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/login">Login</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <br>
        <div class="container text-center">
          <form class="d-flex justify-content-center" action="/displayRestaurant" method="get">
              <div class="input-group">
                  <input id="searchRestaurantName" name="searchRestaurantName" class="form-control" type="search" placeholder="Search Celiac-Friendly Restaurants" aria-label="Search">
                  <div id="results" class="dropdown-menu" aria-labelledby="searchRestaurantName"></div>
                    <button class="btn btn-primary" type="submit">Search</button>
              </div>
          </form>
      </div>
      <div class="hover_bkgr_fricc">
        <span class="popupCloseButton" onclick="closePopup()">X</span>
        <div class="popup">
          <!-- Content of the Popup -->
          <h2 id="random-restaurant"></h2>
          <p id="random-restaurant-address"></p>
          <img id="random-restaurant-picture" class="popup-image" src="" alt="Random Restaurant Picture">
        </div>
      </div>
      
      <section class="page-section clearfix">
        <div class="container">
          <div class="intro">
            <img class="intro-img img-fluid mb-3 mb-lg-0 rounded" src="assets/img/Home.png" alt="..." />
            <div class="intro-text left-0 text-center bg-faded p-5 rounded">
              <h2 class="section-heading mb-4">
                <span class="section-heading-upper">DISCOVER GLUTEN-FREE DINING</span>
                <span class="section-heading-lower">YOUR GUIDE TO CELIAC-FRIENDLY RESTAURANTS</span>
              </h2>
              <p class="mb-3">
                Welcome to our Gluten-Free Restaurant Finder, where we take pride in helping you discover exceptional dining experiences crafted specifically for those with celiac disease. Our curated list showcases restaurants committed to quality and dedicated to providing delicious meals made from locally sourced, gluten-free ingredients.
              </p><br>
              <!-- Updated button with the "trigger_popup_fricc" class -->
              <!-- <div class="intro-button mx-auto">
                 Updated button with the onclick attribute to fetch and display random restaurant data 
                <a class="btn btn-primary btn-xl trigger_popup_fricc" href="#!" id="Rat" onclick="fetchAndDisplayRandomRestaurant()">EXPLORE</a>
              </div> -->
            </div>
          </div>
        </div>
      </section>
          
        <section class="page-section cta">
            <div class="container">
                <div class="row">
                    <div class="col-xl-9 mx-auto">
                        <div class="cta-inner bg-faded text-center rounded">
                            <h2 class="section-heading mb-4">
                                <span class="section-heading-upper">Welcome to Your</span>
                                <span class="section-heading-lower"> Gluten-Free Haven!</span>
                            </h2>
                            <p class="mb-0">
                                We're on a mission to create the ultimate gluten-free dining experience, and your input is the secret ingredient! Share your favorite gluten-free restaurants with us, and let's build a community that celebrates good food without the gluten.
                            </p>
                            <form action="/addRestaurant" method="post" enctype="multipart/form-data" id="addRestaurant">
                              <div id="add-restaurant">
                                <label for="restaurantName">Restaurant Name: </label>
                                <input type="text" id="restaurantName" name="restaurantName" placeholder="Enter First Name"> <br><br>
                                <label for="restaurantAddress">Restaurant Address: </label>
                                <input type="text" id="restaurantAddress" name="restaurantAddress" placeholder="Enter Address"> <br><br>
                                
                                <label for="restaurantGluten">Gluten Free Menu Item: </label>
                                <input type="text" id="restaurantGluten" name="restaurantGluten" placeholder="Enter Menu Item"> <br><br>
              
                                <label for="restaurantPhoto">Restaurant Photo: </label>
                                <input type="file" name="restaurantPhoto" /> <br><br>
                                <button type="submit" class="btn btn-primary btn-xl">ADD</button>
                              </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer class="footer text-faded text-center py-5">
            <div class="container"><p class="m-0 small">Copyright &copy; Your Website 2023</p></div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- <script>
            // Sample restaurant data , "Restaurant 2", "Restaurant 3", "Restaurant 4", "Restaurant 5"
            document.addEventListener('DOMContentLoaded', function () {
              // Event listener for the button
              document.querySelector('.trigger_popup_fricc').addEventListener('click', function (event) {
                event.preventDefault();

                // Fetch random restaurant data from your server
                fetch('/displayRestaurant?searchRestaurantName=random')
                  .then(response => response.json())
                  .then(randomRestaurant => displayPopup(randomRestaurant))
                  .catch(error => console.error('Error fetching random restaurant:', error));
              });

              // Event listener for the "X" close button
              document.querySelector('.popupCloseButton').addEventListener('click', function () {
                closePopup();
              });

              // Function to close the popup
              document.querySelector('.hover_bkgr_fricc').addEventListener('click', function () {
                closePopup();
              });

              // Your existing functions
              function displayPopup(Restaurant) {
                // Set the content of the popup
                document.getElementById('random-restaurant').textContent = Restaurant.Restaurant_Name;
                document.getElementById('random-restaurant-address').textContent = Restaurant.Address;
                document.getElementById('random-restaurant-picture').src = `data:image/jpeg;base64,${Restaurant.Photo}`;

                // Show the popup by adding the "active" class
                document.querySelector('.hover_bkgr_fricc').style.display = 'block';
              }

              function closePopup() {
                // Hide the popup by removing the "active" class
                document.querySelector('.hover_bkgr_fricc').style.display = 'none';
              }
            });


            function fetchAndDisplayRandomRestaurant() {
  // Fetch data from your server endpoint (replace with your actual endpoint)
  fetch("/displayRestaurant")
    .then(response => response.json())
    .then(restaurant => {
      // Set the content of the popup with the fetched restaurant data
      document.getElementById("random-restaurant").textContent = restaurant.Restaurant_Name;
      document.getElementById("random-restaurant-address").textContent = restaurant.Address;
      document.getElementById("random-restaurant-picture").src = "data:image/jpeg;base64," + restaurant.Photo; // Assuming Photo is a base64-encoded image
      // Show the popup
      document.querySelector('.hover_bkgr_fricc').style.display = 'block';
    })
    .catch(err => {
      console.log(err);
    });
}
  </script> -->
    </body>
</html>