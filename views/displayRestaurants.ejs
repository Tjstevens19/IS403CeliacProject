<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Business Casual - Start Bootstrap Theme</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Raleway:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <link href="css/card.css" rel="stylesheet" />
    </head>
    <body >
        <header>
            <h1 class="site-heading text-center text-faded d-none d-lg-block">
                <span class="site-heading-upper text-primary mb-3"></span>
                <span class="site-heading-lower">Gluten-Free Gastronomy</span>
            </h1>
        </header>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark py-lg-4" id="mainNav">
            <div class="container">
                <a class="navbar-brand text-uppercase fw-bold d-lg-none" href="index.html"></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/">Home</a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/login">Login</a></li>
                        <!-- <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="products.html"></a></li>
                        <li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="store.html">Store</a></li> -->
                    </ul>
                </div>
            </div>
        </nav>
        <section class="page-section cta">
            <div class="container">
                <div class="row">
                    <div class="col-xl-9 mx-auto">
                        <div class="cta-inner bg-faded text-center rounded">
                            <h2 class="section-heading mb-5">
                                <span class="section-heading-upper">Enjoy With</span>
                                <span class="section-heading-lower">Our Selection</span>
                                <!-- This is the place where restaurants will be displayed as cards -->
                                <div id="cardList" class="card-list custom-card">
                                    <% Restaurants.forEach(function(Restaurant) { %>
                                        <article class="card">
                                            <figure class="card-image">
                                                <% if (Restaurant.Photo) { %>
                                                    <img src="data:image/jpeg;base64,<%= Buffer.from(Restaurant.Photo).toString('base64') %>"
                                                        alt="Restaurant Photo" style="max-width: 400px; max-height: 400px;">
                                                <% } else { %>
                                                    <p>No photo available</p>
                                                <% } %>
                                            </figure>
                                            
        
                                            <div class="card-header">
                                                <a href="#"><%= Restaurant.Restaurant_Name %></a>
                                                <button class="icon-button">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                        display="block">
                                                        <path
                                                            d="M7 3C4.239 3 2 5.216 2 7.95c0 2.207.875 7.445 9.488 12.74a.985.985 0 0 0 1.024 0C21.125 15.395 22 10.157 22 7.95 22 5.216 19.761 3 17 3s-5 3-5 3-2.239-3-5-3z" />
                                                    </svg>
                                                </button>
                                            </div>
                                            <div class="card-footer">
                                                <div class="card-meta card-meta--date">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                        viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                                        display="block" id="MapMarker">
                                                        <path
                                                            d="M12 2C7.48 2 4 6.48 4 11s8 13 8 13 8-7.48 8-13-3.48-9-8-9zM12 15c-1.11 0-2-0.89-2-2s0.89-2 2-2 2 0.89 2 2-0.89 2-2 2z" />
                                                    </svg>
                                                    <span class="small-text"><%= Restaurant.Address %></span>
                                                </div>
                                            </div>
                                        </article>
                                    <% }); %>
                                </div>
                                <!-- Where it ends -->
                            </h2>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        



<!--so i have database with names and for loop  will go through it and create 
    new card next to old one with information from the database-->

    <script>
      // document.addEventListener("DOMContentLoaded", function() {
      //     // Fetch data from your server (replace '/restaurants' with your actual API endpoint)
      //     fetch('/restaurants')
      //         .then(response => response.json())
      //         .then(restaurants => {
      //             const cardList = document.getElementById("cardList");
      
      //             restaurants.forEach(restaurant => {
      //                 const card = document.createElement("article");
      //                 card.classList.add("card");
      
      //                 // Carousel container
      //                 const carouselContainer = document.createElement("div");
      //                 carouselContainer.classList.add("carousel");
      
      //                 // Slides container
      //                 const slidesContainer = document.createElement("div");
      //                 slidesContainer.classList.add("slides");
      
      //                 // Create slides dynamically
      //                 restaurant.photos.forEach(photoUrl => {
      //                     const slide = document.createElement("div");
      //                     slide.classList.add("slide");
      
      //                     const cardImage = document.createElement("figure");
      //                     cardImage.classList.add("card-image");
      
      //                     const img = document.createElement("img");
      //                     img.src = photoUrl;
      //                     img.alt = "Restaurant Image";
      //                     cardImage.appendChild(img);
      
      //                     slide.appendChild(cardImage);
      //                     slidesContainer.appendChild(slide);
      //                 });
      
      //                 // Append slides to carousel container
      //                 carouselContainer.appendChild(slidesContainer);
      
      //                 // Append carousel container to card
      //                 card.appendChild(carouselContainer);
      
      //                 // Card header
      //                 const cardHeader = document.createElement("div");
      //                 cardHeader.classList.add("card-header");
      //                 const titleLink = document.createElement("a");
      //                 titleLink.href = "#";
      //                 titleLink.textContent = restaurant.name;
      //                 cardHeader.appendChild(titleLink);
      
      //                 const iconButton = document.createElement("button");
      //                 iconButton.classList.add("icon-button");
      //                 const heartSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      //                 heartSvg.setAttribute("width", "24");
      //                 heartSvg.setAttribute("height", "24");
      //                 // Add other attributes and path for the heart SVG
      //                 iconButton.appendChild(heartSvg);
      //                 cardHeader.appendChild(iconButton);
      
      //                 // Append card header to card
      //                 card.appendChild(cardHeader);
      
      //                 // Card footer
      //                 const cardFooter = document.createElement("div");
      //                 cardFooter.classList.add("card-footer");
      
      //                 const viewsMeta = document.createElement("div");
      //                 viewsMeta.classList.add("card-meta", "card-meta--views");
      //                 const viewsSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      //                 // Add other attributes and path for the views SVG
      //                 viewsMeta.appendChild(viewsSvg);
      //                 const viewsText = document.createTextNode("Views: " + restaurant.views);
      //                 viewsMeta.appendChild(viewsText);
      //                 cardFooter.appendChild(viewsMeta);
      
      //                 const dateMeta = document.createElement("div");
      //                 dateMeta.classList.add("card-meta", "card-meta--date");
      //                 const dateSvg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      //                 // Add other attributes and path for the date SVG
      //                 dateMeta.appendChild(dateSvg);
      //                 const dateText = document.createTextNode("Date: " + restaurant.date);
      //                 dateMeta.appendChild(dateText);
      //                 cardFooter.appendChild(dateMeta);
      
      //                 // Append card footer to card
      //                 card.appendChild(cardFooter);
      
      //                 // Append the card to the cardList container
      //                 cardList.appendChild(card);
      //             });
      //         })
      //         .catch(error => console.error("Error fetching data:", error));
      
      //     // CAROUSEL logic remains the same
      //     let currentSlide = 0;
      
      //     function showSlide(index) {
      //         const slides = document.querySelector('.slides');
      //         const slideWidth = document.querySelector('.slide').offsetWidth;
      //         slides.style.transform = `translateX(-${index * slideWidth}px)`;
      //         currentSlide = index;
      //     }
      
      //     function prevSlide() {
      //         currentSlide = (currentSlide - 1 + document.querySelectorAll('.slide').length) % document.querySelectorAll('.slide').length;
      //         showSlide(currentSlide);
      //     }
      
      //     function nextSlide() {
      //         currentSlide = (currentSlide + 1) % document.querySelectorAll('.slide').length;
      //         showSlide(currentSlide);
      //     }
      // });
      </script>
       
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
